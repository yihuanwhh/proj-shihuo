<template>
  <div class="scroll-container" style="height:100%">
    <div class="pagehome">
      <div class="swiper-container" id="swiper1">
        <div class="swiper-wrapper">
          <div class="swiper-slide">
            <a href="">
              <img src="../../picture/246bc13aad8b60058a81d242512e983f.png" alt="">
            </a>
          </div>
          <div class="swiper-slide">
            <a href="">
              <img src="../../picture/18cffc61c52a5ce61173479619bbaa6e.png" alt="">
            </a>
          </div>
          <div class="swiper-slide">
            <a href="">
              <img src="../../picture/5480e24dc886bde3fd4c599d22330d65.png" alt="">
            </a>
          </div>
          <div class="swiper-slide">
            <a href="">
              <img src="../../picture/d63108ffbf581d59f8d3552e346b8258.jpg" alt="">
            </a>
          </div>
          <div class="swiper-slide">
            <a href="">
              <img src="../../picture/e3e9e3e19c8ac46b699f554b3aca7538.jpg" alt="">
            </a>
          </div>
        </div>
      </div>
      <div class="pic_banner clearfix">
        <ul class="zone">
          <li class="zone0 clearfix">
            <a href="" style="display:block;overflow:hidden;">
              <div class="tit">
                <h2>篮球</h2>
                <p class="subtit">纯白系列秒杀</p>
              </div>
              <div class="pic">
                <img src="../../picture/2355ddafee2bdc0963e346192576c3631541383761.jpg" alt="">
              </div>
            </a>
          </li>
          <li class="zone1 clearfix">
            <a href="" style="display:block;overflow:hidden;">
              <div class="tit">
                <h2>跑步</h2>
                <p class="subtit">女王节秒杀</p>
              </div>
              <div class="pic">
                 <img src="../../picture/a580ec1affbbf4a344974bc92969c7671533133549.jpg" alt="">
              </div>
            </a>
          </li>
          <li class="zone2 clearfix">
            <a href="" style="display:block;overflow:hidden;">
              <div class="tit">
                <h2>健身</h2>
                <p class="subtit">步瑞特装备秒杀</p>
              </div>
              <div class="pic">
                <img src="http://shihuo.hupucdn.com/def/20170915/ce4a7229a9d977a97379baa0bd0d9a921505460736.jpg?imageView2/0/w/160/h/160/interlace/1" alt="">
              </div>
            </a>
          </li>
          <li class="zone3 clearfix">
            <a href="" style="display:block;overflow:hidden;">
              <div class="tit">
                <h2>足球</h2>
                <p class="subtit">其实是在吹总裁</p>
              </div>
              <div class="pic">
                <img src="http://shihuo.hupucdn.com/trade/reposition/2017-10-04/27812ca1b16a075e15f56a17686cbe95.png?imageView2/0/w/160/h/160/interlace/1" alt="">
              </div>
            </a>
          </li>
          <li class="zone4 clearfix">
            <a href="" style="display:block;overflow:hidden;">
              <div class="tit">
                <h2>潮流</h2>
                <p class="subtit">78元短袖秒杀</p>
              </div>
              <div class="pic">
                <img src="http://shihuoproxy.hupucdn.com/aHR0cDovL2ltZy5hbGljZG4uY29tL2ltZ2V4dHJhL2k0LzI0MDI3NTY5OTQvVEIyX3lMSmVSMGxwdUZqU3N6ZFhYY2R4RlhhXyEhMjQwMjc1Njk5NC5qcGc" alt="">
              </div>
            </a>
          </li>
          <li class="zone5 clearfix">
            <a href="" style="display:block;overflow:hidden;">
              <div class="tit">
                <h2>数码</h2>
                <p class="subtit">SAO气十足</p>
              </div>
              <div class="pic">
                <img src="http://shihuo.hupucdn.com/appZone/201709/3017/912164aae6a6afb48bf1ef2ff60bcbb3.jpg?imageView2/0/w/160/h/160/interlace/1" alt="">
              </div>
            </a>
          </li>
        </ul>
      </div>
      <section class="hot clearfix">
        <a class="block" href="http://m.shihuo.cn/youhui#qk=jryouhui">
          <h2>今日优惠</h2>
          <p class="desc">EQT 5折好价</p>
          <p class="imgs"><img src="http://shihuo.hupucdn.com/appHome/201807/1811/1d039f64648d5e33025c747ec6420060.jpg?imageView2/2/w/60/h/60/interlace/1" alt="今日优惠"></p>
        </a>
        <a class="block" href="http://m.shihuo.cn/tuangou#qk=tuangou">
          <h2>限时团购</h2>
          <p class="desc">春节不打烊</p>
          <p class="imgs"><img src="http://shihuo.hupucdn.com/appHome/201802/0716/5d0eea37252cd190ba0975b3e5e1f49e.png?imageView2/2/w/60/h/60/interlace/1" alt="限时团购"></p>
        </a>
        <a class="block" href="http://m.shihuo.cn/haitao#qk=haitao">
          <h2>一键海淘</h2>
          <p class="desc">卡西欧黑金249元</p>
          <p class="imgs"><img src="http://shihuo.hupucdn.com/appHome/201807/1310/f975458f8da63b0769796aba49271e1c.jpg?imageView2/2/w/60/h/60/interlace/1" alt="一键海淘"></p>
        </a>
      </section>
      <section class="hot-activity clearfix">
        <h3>热门活动</h3>
        <ul>
          <li>
            <a href="http://www.shihuo.cn/app/assets/youhui/1.0.2/brandSale.html">
              <div class="img">
                <img src="http://shihuo.hupucdn.com/appHome/201808/1710/5e683699826e2a13abd239e4e4e36793.jpg" alt="">
              </div>
              <p class="p1">skullcandy骷髅头耳机</p>
              <p class="p2"><span>券后低至89元起</span></p>
            </a>
          </li>
          <li>
            <a href="http://www.shihuo.cn/article/detail/21332.html">
              <div class="img">
                <img src="http://shihuo.hupucdn.com/appZone/201811/2310/18c66c0697e87440978ffdc220ee7cf9.jpg" alt="">
              </div>
              <p class="p1">潮流折扣日Vol.53</p>
              <p class="p2"><span>别再错过专属优惠了</span></p>
            </a>
          </li>
        <li class="clean">
          <a href="http://www.shihuo.cn/column/227.html">
            <div class="img">
              <img src="http://shihuo.hupucdn.com/appZone/201801/3117/dfb166bb32589d4c0c0f33613a7160cc.jpg" alt="">
            </div>
            <p class="p1">装备微讯</p>
            <p class="p2"><span>2分钟懂你想要</span></p>
          </a>
        </li>
        <li>
          <a href="http://www.shihuo.cn/article/detail/17634.html">
            <div class="img">
              <img src="http://shihuo.hupucdn.com/appZone/201811/1216/32de94d3d483749627b0716d9cde722b.png" alt="">
            </div>
            <p class="p1">潮流圈的编辑们</p>
            <p class="p2"><span>Ta说</span></p>
          </a>
        </li>
        <li>
          <a href="http://www.shihuo.cn/article/detail/19149.html">
            <div class="img">
              <img src="http://shihuo.hupucdn.com/appZone/201811/1214/ea91521753d0e0f95f4a5c82094aee79.jpg" alt="">
            </div>
            <p class="p1">考虑一下荧光绿</p>
            <p class="p2"><span>要想生活过的去</span></p>
          </a>
        </li>
        <li class="clean">
          <a href="http://www.shihuo.cn/column/137.html">
            <div class="img">
              <img src="http://shihuo.hupucdn.com/appZone/201803/2617/e6ae975eca6480b86354e92fa866a8e1.jpg" alt="">
            </div>
            <p class="p1">跑步评测室</p>
            <p class="p2"><span>最炫酷的跑步装备评测</span></p>
          </a>
        </li>
        </ul>
      </section>
      <div id="listView">
        <div class="list-view-top">
          <div class="list-menu">
            <ul>
              <li class="on" @click="handleClick('')" >推荐</li>
              <li @click="handleClick('basketball')" >篮球</li>
              <li @click="handleClick('running')" >跑步</li>
              <li @click="handleClick('fitness')" >健身</li>
              <li @click="handleClick('freestyle')" >潮流</li>
            </ul>
          </div>
          <div class="list-submenu">
            <ul class="clearfix">
              <li class="on" @click="nextClick('')" >全部</li>
              <li  @click="nextClick(11)" >单品推荐</li>
              <li  @click="nextClick(12)" >原创精选</li>
              <li  @click="nextClick(7)" >用户晒物</li>
            </ul>
          </div>
        </div>
        <List v-if="list" :list="list"></List>
      </div>
    </div>
  </div>
</template>
<script>
import Swiper from 'swiper'
import 'swiper/dist/css/swiper.min.css'
import List from './List'
import http from '../../utils/http'
export default {
  data() {
    return {
      list:[],
      request:{},
      active:true,
      uactive:false
    }
  },
  components:{
    List
  },
  async mounted() {
    this.scroll({
      vm:this,
      container:'.scroll-container',
      data:{
        params:{
          url:'/homefis/getNews',
          params:this.request}
      }
    })

    var mySwiper = new Swiper('.swiper-container',{
      autoplay:true,
      loop:true
    })
    // $('.list-menu li').on('click',() => {
    //   $(this).addClass('on').siblings().removeClass('on')
    // })
  },

  methods: {
    async handleClick(type) {
      this.request.type = type
      await this.getList()
    },

    async nextClick(channel_type) {
      this.request.channel_type = channel_type
      await this.getList()
    },

    async getList(){
      let result = await http.get({
        url:'/homefis/getNews',
        params:this.request
      })
      this.list = result.data
    }

  }
}
</script>


<style lang="stylus">
.pagehome
  width 100%
  overflow hidden
  .swiper-container
    height: 5.06667rem
    width 100%
    .swiper-wrapper
      height 100%
      .swiper-slide
        height 100%
        img
          width 100%
  .pic_banner
    background #ffffff
    margin-top .26667rem
    border-bottom 1px solid #e6e6e6
    overflow hidden
    li
      width 50%
      float left 
      border-bottom 1px solid #f0f3f5
      border-left 1px solid #f0f3f5
      padding .06667rem .4rem
      .tit
        width 2.56rem
        float left 
        margin-top .2rem
        h2
          font-size .4rem
          color #333333
          font-weight 600
        p
          font-size .32rem
          color #666666
          width 2.56rem
          white-space nowrap
          overflow hidden
      .pic
        float right
        img 
          width 1.4rem
          height 1.4rem
  .hot
    background #f0f3f5
    margin .08rem
    overflow hidden
    .block
      text-align center
      padding .2rem 0
      width 3.13333rem
      float left
      background #fff
      margin .06667rem
      h2
        font-size .37333rem
        color #333333
        font-weight 400
      p.desc
        font-size .32rem
        color #666666
        margin .13333rem 0 0.266667rem
        width 100%
      p.imgs
        text-align center
        padding-bottom 1.6rem
        height 0
        img 
          1.6rem
  .hot-activity
    background #fff
    margin .08rem 0 .14667rem
    h3
      font-size 14px
      line-height .4rem
      padding .26667rem .4rem
      margin-bottom .13333rem
    ul
      padding 0 .4rem
      display flex
      flex-wrap wrap
      li
        float left
        width 32.64%
        margin-right 1%
        margin-bottom .33333rem
        &.clean
          margin-right 0
        .img
          height 1.78667rem
          overflow hidden
          margin-bottom .13333rem
          img
            width 100%
        p
          line-height .4rem
        .p1
          font-size 12px
        .p2
          color #666
          text-align left 
  #listView
    .list-view-top
      background #ffffff
      border-bottom 1px solid #eee
      width 100%
      overflow hidden
      .list-menu
        height 1.06667rem
        line-height 1.06667rem
        padding 0 .6667rem
        ul
          display flex
          flex-direction row
          justify-content space-between
          li
            font-size 13px
            font-weight 700
            position relative
            &.on
              color #FF4338
              &::after 
                content ""
                width .45333rem
                display block
                position absolute
                bottom .2rem
                left 50%
                margin-left -.22667rem
                border-radius .04rem
                height .05333rem
                background-color #FF4338
      .list-submenu
        padding 0 0 .32rem .4rem
        ul
          li
            font-size 12px
            display inline-block
            height .69333rem
            line-height .69333rem
            width 2rem
            margin-right .4rem
            color #333
            background-color #f5f5f5
            border-radius .04rem
            text-align center
            &.on
              color #fff
              background-color #ff4338

</style>

